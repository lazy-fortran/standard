
> tree-sitter-fortran-77@1.0.0 test
> tree-sitter test

  basic:
      1. âœ“ [32mSimple assignment[0m
  block_if:
      2. âœ— [31mFORTRAN 77 block IF with ELSEIF[0m
  character_simple:
      3. âœ— [31mFORTRAN77 simple CHARACTER operations[0m
  character_type:
      4. âœ— [31mFORTRAN 77 CHARACTER type and operations[0m
  minimal:
      5. âœ“ [32mMinimal test[0m
  simple:
      6. âœ“ [32mFORTRAN 77 simple test[0m
  structured_programming:
      7. âœ— [31mFORTRAN 77 structured programming revolution[0m

4 failures:

correct / [32mexpected[0m / [31munexpected[0m

  1. FORTRAN 77 block IF with ELSEIF:

    (program
      (program_unit
        (main_program
[31m          (statement_without_end
[0m[32m          (statement
[0m            (specification_statement
              (type_declaration
                (type_spec)
                (entity_list
                  (entity)
                  (entity)
                  (entity)))))
[31m          (statement_without_end
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
                  (arithmetic_expression
                    (term
                      (factor
                        (primary
                          (constant
                            (integer_constant))))))))))
[31m          (statement_without_end
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
                  (arithmetic_expression
                    (term
                      (factor
                        (primary
                          (constant
                            (integer_constant))))))))))
[31m          (statement_without_end
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
                  (arithmetic_expression
                    (term
                      (factor
                        (primary
                          (constant
                            (integer_constant))))))))))
[31m          (statement_without_end
[0m[32m          (statement
[0m            (control_statement
              (if_construct
                (if_then_statement
                  (logical_expression
                    (relational_expression
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (variable
                                (simple_variable))))))
                      (relational_operator)
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (variable
                                (simple_variable)))))))))
[31m                (if_body_statement
[0m[32m                (statement
[0m                  (io_statement
                    (print_statement
                      (io_list
                        (character_constant)))))
[31m                (if_body_statement
[0m[32m                (statement
[0m                  (arithmetic_statement
                    (assignment_statement
                      (variable
                        (simple_variable))
                      (expression
[31m                        (character_expression
[0m[31m                          (character_primary
[0m[31m                            (character_variable)))))))
[0m[32m                        (arithmetic_expression
[0m[32m                          (term
[0m[32m                            (factor
[0m[32m                              (primary
[0m[32m                                (variable
[0m[32m                                  (simple_variable))))))))))
[0m                (elseif_then_statement
                  (logical_expression
                    (relational_expression
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (variable
                                (simple_variable))))))
                      (relational_operator)
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (variable
                                (simple_variable)))))))))
[31m                (if_body_statement
[0m[32m                (statement
[0m                  (io_statement
                    (print_statement
                      (io_list
                        (character_constant)))))
[31m                (if_body_statement
[0m[32m                (statement
[0m                  (arithmetic_statement
                    (assignment_statement
                      (variable
                        (simple_variable))
                      (expression
[31m                        (character_expression
[0m[31m                          (character_primary
[0m[31m                            (character_variable)))))))
[0m[32m                        (arithmetic_expression
[0m[32m                          (term
[0m[32m                            (factor
[0m[32m                              (primary
[0m[32m                                (variable
[0m[32m                                  (simple_variable))))))))))
[0m                (elseif_then_statement
                  (logical_expression
                    (relational_expression
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (variable
                                (simple_variable))))))
                      (relational_operator)
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (variable
                                (simple_variable)))))))))
[31m                (if_body_statement
[0m[32m                (statement
[0m                  (io_statement
                    (print_statement
                      (io_list
                        (character_constant)))))
[31m                (if_body_statement
[0m[32m                (statement
[0m                  (arithmetic_statement
                    (assignment_statement
                      (variable
                        (simple_variable))
                      (expression
                        (arithmetic_expression
                          (term
                            (factor
                              (primary
                                (constant
                                  (integer_constant))))))))))
                (else_statement)
[31m                (if_body_statement
[0m[32m                (statement
[0m                  (io_statement
                    (print_statement
                      (io_list
                        (character_constant)))))
[31m                (endif_statement)))))))[0m
[32m                (endif_statement))))[0m


  2. FORTRAN77 simple CHARACTER operations:

    (program
      (statement
        (statement_body
          (character_declaration
            (number)
            (variable_list
              (variable)))))
      (statement
        (statement_body
          (assignment
            (variable)
            (expression
              (string_literal)))))
      (statement
        (statement_body
          (print_stmt
[31m            (variable)))))[0m
[32m            (expression
[0m[32m              (variable))))))[0m


  3. FORTRAN 77 CHARACTER type and operations:

    (program
      (program_unit
        (main_program
[31m          (statement_without_end
[0m[32m          (statement
[0m            (specification_statement
              (character_declaration
[31m                (character_length
[0m[31m                  (integer_constant))
[0m[32m                (character_length)
[0m                (character_variable_list
[31m                  (character_variable)
[0m                  (character_variable
[31m                    (character_length
[0m[31m                      (integer_constant)))
[0m[32m                    (variable_name))
[0m[32m                  (character_variable
[0m[32m                    (variable_name)
[0m[32m                    (character_length))
[0m                  (character_variable
[31m                    (character_length
[0m[31m                      (integer_constant)))))))
[0m[31m          (statement_without_end
[0m[32m                    (variable_name)
[0m[32m                    (character_length))))))
[0m[32m          (statement
[0m            (specification_statement
              (character_declaration
                (character_variable_list
[31m                  (character_variable)
[0m                  (character_variable
[31m                    (character_length
[0m[31m                      (integer_constant)))))))
[0m[31m          (statement_without_end
[0m[32m                    (variable_name))
[0m[32m                  (character_variable
[0m[32m                    (variable_name)
[0m[32m                    (character_length))))))
[0m[32m          (statement
[0m            (specification_statement
              (type_declaration
                (type_spec)
                (entity_list
                  (entity)
                  (entity)))))
[31m          (statement_without_end
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (character_constant)))))))))
[0m[31m          (statement_without_end
[0m[32m                  (character_expression
[0m[32m                    (character_primary
[0m[32m                      (character_constant)))))))
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (character_constant)))))))))
[0m[31m          (statement_without_end
[0m[32m                  (character_expression
[0m[32m                    (character_primary
[0m[32m                      (character_constant)))))))
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (character_constant)))))))))
[0m[31m          (statement_without_end
[0m[32m                  (character_expression
[0m[32m                    (character_primary
[0m[32m                      (character_constant)))))))
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (character_constant)))))))))
[0m[31m          (statement_without_end
[0m[32m                  (character_expression
[0m[32m                    (character_primary
[0m[32m                      (character_constant)))))))
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (character_constant)))))))))
[0m[31m          (statement_without_end
[0m[32m                  (character_expression
[0m[32m                    (character_primary
[0m[32m                      (character_constant)))))))
[0m[32m          (statement
[0m            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
                  (arithmetic_expression
                    (term
                      (factor
                        (primary
                          (function_reference
                            (intrinsic_function_name)
                            (actual_argument_list
                              (actual_argument
                                (character_expression
                                  (character_primary
[31m                                    (character_variable))))))))))))))
[0m[31m          (statement_without_end
[0m[31m            (arithmetic_statement
[0m[31m              (assignment_statement
[0m[31m                (variable
[0m[31m                  (simple_variable))
[0m[31m                (expression
[0m[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (function_reference
[0m[31m                            (intrinsic_function_name)
[0m[31m                            (actual_argument_list
[0m[31m                              (actual_argument
[0m[31m                                (character_expression
[0m[31m                                  (character_primary
[0m[31m                                    (character_variable))))
[0m[31m                              (actual_argument
[0m[31m                                (arithmetic_expression
[0m[31m                                  (term
[0m[31m                                    (factor
[0m[31m                                      (primary
[0m[31m                                        (character_constant))))))))))))))))
[0m[31m          (statement_without_end
[0m[31m            (control_statement
[0m[31m              (if_construct
[0m[31m                (if_then_statement
[0m[31m                  (logical_expression
[0m[31m                    (relational_expression
[0m[31m                      (arithmetic_expression
[0m[31m                        (term
[0m[31m                          (factor
[0m[31m                            (primary
[0m[31m                              (variable
[0m[31m                                (simple_variable))))))
[0m[31m                      (relational_operator)
[0m[31m                      (arithmetic_expression
[0m[31m                        (term
[0m[31m                          (factor
[0m[31m                            (primary
[0m[31m                              (character_constant))))))))
[0m[31m                (if_body_statement
[0m[31m                  (io_statement
[0m[31m                    (print_statement
[0m[31m                      (io_list
[0m[31m                        (character_constant)))))
[0m[31m                (endif_statement))))
[0m[31m          (statement_without_end
[0m[31m            (arithmetic_statement
[0m[31m              (assignment_statement
[0m[31m                (variable
[0m[31m                  (substring_reference
[0m[31m                    (character_variable)
[0m[31m                    (substring_range
[0m[31m                      (substring_start
[0m[31m                        (arithmetic_expression
[0m[31m                          (term
[0m[31m                            (factor
[0m[31m                              (primary
[0m[31m                                (constant
[0m[31m                                  (integer_constant)))))))
[0m[31m                      (substring_end
[0m[31m                        (arithmetic_expression
[0m[31m                          (term
[0m[31m                            (factor
[0m[31m                              (primary
[0m[31m                                (constant
[0m[31m                                  (integer_constant))))))))))
[0m[31m                (expression
[0m[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (character_constant))))))))))))[0m
[32m                                    (character_variable)))))))))))))
[0m[32m            (statement
[0m[32m              (arithmetic_statement
[0m[32m                (assignment_statement
[0m[32m                  (variable
[0m[32m                    (simple_variable))
[0m[32m                  (expression
[0m[32m                    (arithmetic_expression
[0m[32m                      (term
[0m[32m                        (factor
[0m[32m                          (primary
[0m[32m                            (function_reference
[0m[32m                              (intrinsic_function_name)
[0m[32m                              (actual_argument_list
[0m[32m                                (actual_argument
[0m[32m                                  (character_expression
[0m[32m                                    (character_primary
[0m[32m                                      (character_variable))))
[0m[32m                                (actual_argument
[0m[32m                                  (character_expression
[0m[32m                                    (character_primary
[0m[32m                                      (character_constant)))))))))))))
[0m[32m              (statement
[0m[32m                (control_statement
[0m[32m                  (if_construct
[0m[32m                    (if_then_statement
[0m[32m                      (logical_expression
[0m[32m                        (relational_expression
[0m[32m                          (character_expression
[0m[32m                            (character_primary
[0m[32m                              (character_variable)))
[0m[32m                          (relational_operator)
[0m[32m                          (character_expression
[0m[32m                            (character_primary
[0m[32m                              (character_constant))))))
[0m[32m                    (statement
[0m[32m                      (io_statement
[0m[32m                        (print_statement
[0m[32m                          (io_list
[0m[32m                            (character_constant)))))
[0m[32m                    (endif_statement))))
[0m[32m              (statement
[0m[32m                (arithmetic_statement
[0m[32m                  (assignment_statement
[0m[32m                    (variable
[0m[32m                      (substring_reference
[0m[32m                        (character_variable)
[0m[32m                        (substring_range
[0m[32m                          (substring_start
[0m[32m                            (arithmetic_expression
[0m[32m                              (term
[0m[32m                                (factor
[0m[32m                                  (primary
[0m[32m                                    (constant
[0m[32m                                      (integer_constant)))))))
[0m[32m                          (substring_end
[0m[32m                            (arithmetic_expression
[0m[32m                              (term
[0m[32m                                (factor
[0m[32m                                  (primary
[0m[32m                                    (constant
[0m[32m                                      (integer_constant))))))))))
[0m[32m                    (expression
[0m[32m                      (character_expression
[0m[32m                        (character_primary
[0m[32m                          (character_constant)))))))[0m


  4. FORTRAN 77 structured programming revolution:

    (program
      (program_unit
        (main_program
          (statement_without_end
            (specification_statement
              (character_declaration
[31m                (character_length
[0m[31m                  (integer_constant))
[0m[31m                (character_variable_list
[0m[31m                  (character_variable)))))
[0m[32m                (character_length)
[0m[32m                (variable_name))))
[0m[32m          (statement_without_end
[0m[32m            (specification_statement
[0m[32m              (implicit_specification
[0m[32m                (type_spec)
[0m[32m                (letter_range))))
[0m          (statement_without_end
            (specification_statement
[31m              (type_declaration
[0m[32m              (implicit_specification
[0m                (type_spec)
[31m                (entity_list
[0m[31m                  (entity)))))
[0m[32m                (letter_range))))
[0m          (statement_without_end
            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
[31m                (ERROR
[0m[31m                  (UNEXPECTED 'L'))
[0m                (expression
[31m                  (arithmetic_expression
[0m[31m                    (term
[0m[31m                      (factor
[0m[31m                        (primary
[0m[31m                          (character_constant)))))))))
[0m[32m                  (character_expression
[0m[32m                    (character_constant))))))
[0m          (statement_without_end
            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
                  (arithmetic_expression
                    (term
                      (factor
                        (primary
                          (constant
                            (integer_constant))))))))))
          (statement_without_end
            (arithmetic_statement
              (assignment_statement
                (variable
                  (simple_variable))
                (expression
                  (logical_expression
                    (logical_primary
                      (logical_constant)))))))
          (statement_without_end
            (control_statement
              (if_construct
                (if_then_statement
                  (logical_expression
                    (logical_and_expression
                      (logical_expression
                        (logical_primary
                          (logical_variable)))
                      (logical_expression
                        (relational_expression
                          (arithmetic_expression
                            (term
                              (factor
                                (primary
                                  (variable
                                    (simple_variable))))))
                          (relational_operator)
                          (arithmetic_expression
                            (term
                              (factor
                                (primary
                                  (constant
                                    (integer_constant)))))))))))
[31m                (if_body_statement
[0m[32m                (statement_without_end
[0m                  (io_statement
                    (print_statement
[32m                      (integer_constant)
[0m                      (io_list
                        (variable
                          (simple_variable))))))
[31m                (if_body_statement
[0m[32m                (statement_without_end
[0m                  (arithmetic_statement
                    (assignment_statement
                      (variable
                        (simple_variable))
                      (expression
                        (arithmetic_expression
                          (arithmetic_expression
                            (term
                              (factor
                                (primary
                                  (variable
                                    (simple_variable))))))
                          (term
                            (factor
                              (primary
                                (constant
                                  (integer_constant))))))))))
                (else_statement)
[31m                (if_body_statement
[0m[32m                (statement_without_end
[0m                  (io_statement
                    (print_statement
[32m                      (integer_constant)
[0m                      (io_list
[31m                        (character_constant)))))
[0m[32m                        (variable
[0m[32m                          (character_constant))))))
[0m                (endif_statement))))
          (statement_without_end
            (control_statement
              (do_while_construct
                (do_while_statement
                  (logical_expression
                    (relational_expression
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (variable
                                (simple_variable))))))
                      (relational_operator)
                      (arithmetic_expression
                        (term
                          (factor
                            (primary
                              (constant
                                (integer_constant)))))))))
                (statement_without_end
                  (arithmetic_statement
                    (assignment_statement
                      (variable
                        (simple_variable))
                      (expression
                        (arithmetic_expression
                          (arithmetic_expression
                            (term
                              (factor
                                (primary
                                  (variable
                                    (simple_variable))))))
                          (term
                            (factor
                              (primary
                                (constant
                                  (integer_constant))))))))))
                (enddo_statement))))
          (end_statement))))

